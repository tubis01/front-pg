
<shared-menu></shared-menu>

<div class="grid">
  <!-- Tarjetas para estadísticas -->
  <div class="col-12 md:col-6 lg:col-3 ">
    <p-card
    [style]="{
      border: '1px solid #162016',
      borderRadius: '15px',
      backgroundColor: '#28a745',
      color: '#fff'
  }"

    header="Proyectos en curso" class="text-center" styleClass="custom-card">
      <h2 class="text-bold">{{ proyectosEnCurso }}</h2>
      <i class="pi pi-briefcase" style="font-size: 2em;"></i>
    </p-card>
  </div>

  <div class="col-12 md:col-6 lg:col-3">
    <p-card
    [style]="{
      border: '1px solid #162016',
      borderRadius: '15px',
      backgroundColor: '#17a2b8 ',
      color: '#fff'
  }"

    header="Proyectos finalizados" class="text-center">
      <h2 class="text-bold">{{ proyectosFinalizados}}</h2>
      <i class="pi pi-check-circle" style="font-size: 2em;"></i>
    </p-card>
  </div>

  <div class="col-12 md:col-6 lg:col-3">
    <p-card
    [style]="{
      border: '1px solid #162016',
      borderRadius: '15px',
      backgroundColor: '#ffc107  ',
      color: '#fff'
  }"

    header="Beneficiarios del mes" class="text-center">
      <h2 class="text-bold">{{ beneficiariosMes }}</h2>
      <i class="pi pi-users" style="font-size: 2em;"></i>
    </p-card>
  </div>

  <div class="col-12 md:col-6 lg:col-3">
    <p-card
    [style]="{
      border: '1px solid #162016',
      borderRadius: '15px',
      backgroundColor: '#6f42c1  ',
      color: '#fff'
  }"

    header="Total de beneficiarios" class="text-center">
      <h2 class="text-bold">{{ beneficiariosActivos }}</h2>
      <i class="pi pi-chart-line" style="font-size: 2em;"></i>
    </p-card>
  </div>
</div>

<!-- Filtro por fechas -->
<div class="grid">
  <div class="col-12">
    <p-card
    [style]="{
      border: '1px solid #162016',
      borderRadius: '15px',
      backgroundColor: '#e0f7fa  ',
      color: '#black'
  }"


    header="Filtrar por fechas">
      <div class="grid align-items-center">
        <div class="col-12 md:col-4">
          <p-calendar  dateFormat="dd/mm/yy" placeholder="Fecha de inicio"></p-calendar>
        </div>
        <div class="col-12 md:col-4">
          <p-calendar  dateFormat="dd/mm/yy" placeholder="Fecha de fin"></p-calendar>
        </div>
        <div class="col-12 md:col-4">
          <button pButton type="button" label="Filtrar" icon="pi pi-search"></button>
        </div>
      </div>
    </p-card>
  </div>
</div>

<!-- Gráfica de beneficiarios por mes -->
<div class="grid">
  <div class="col-12">
    <p-card
    [style]="{
      border: '1px solid #162016',
      borderRadius: '15px',
      backgroundColor: '#ffffff ',
      color: '#black'
  }"
    header="Beneficiarios por mes">
      <p-chart type="bar" [data]="chartData" [options]="chartOptions"></p-chart>
    </p-card>
  </div>
</div>

<!-- Últimos proyectos completados -->
<!-- Últimos proyectos completados -->
<div class="grid">
  <div class="col-12">
    <p-card
    [style]="{
      border: '1px solid #162016',
      borderRadius: '15px',
      backgroundColor: '#f2f4f5  ',
      color: '#black'
  }"
    header="Últimos proyectos completados">
      <p-table
      [style]="{
        border: '1px solid #162016',
        backgroundColor: '#f2f4f5  ',
        color: '#black'
        }"
      [value]="completedProjects">
        <ng-template pTemplate="header">
          <tr>
            <th>Nombre del Proyecto</th>
            <th>Fecha de Finalización</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-project>
          <tr>
            <td>{{ project.nombre }}</td>
            <td>{{ project.fechaFin | date: 'dd/MM/yyyy' }}</td> <!-- Se muestra la fecha con un formato legible -->
          </tr>
        </ng-template>
      </p-table>
    </p-card>
  </div>
</div>

<shared-loading-spinner
*ngIf="isLoading"
>

</shared-loading-spinner>
